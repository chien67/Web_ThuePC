@model DATN_Web.Models.Entities.User
@{
    ViewBag.Title = "Sửa người dùng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="content">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-success">
                    <h3 class="card-title">Sửa người dùng</h3>
                </div>

                <div class="card-body">
                    @using (Html.BeginForm("Edit", "Account", FormMethod.Post))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                        @Html.HiddenFor(m => m.UserId)

                        <div class="form-group">
                            <label>Tên đăng nhập (không sửa)</label>
                            <input class="form-control" value="@Model.Username" disabled />
                        </div>

                        <div class="form-group">
                            <label>Tên người dùng</label>
                            @Html.TextBoxFor(m => m.FullName, new { @class = "form-control" })
                        </div>

                        <div class="form-group">
                            <label>Email</label>
                            @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email" })
                        </div>

                        <div class="form-group">
                            <label>Quyền</label>
                            @Html.DropDownListFor(m => m.Role,
                               new SelectList(new[] {
                                  new { Value = (byte)1, Text = "User" },
                                  new { Value = (byte)2, Text = "Admin" },
                                  new { Value = (byte)3, Text = "Quản lý kho" },
                               }, "Value", "Text", Model.Role),
                               new { @class = "form-control" })
                        </div>

                        <div class="form-group">
                            <label>Trạng thái</label>
                            @Html.DropDownListFor(m => m.IsActive,
                               new SelectList(new[] {
                                  new { Value = true, Text = "Hoạt động" },
                                  new { Value = false, Text = "Khóa" }
                               }, "Value", "Text", Model.IsActive),
                               new { @class = "form-control" })
                        </div>

                        <button class="btn btn-primary btn-block" type="submit">Lưu thay đổi</button>
                    }

                    <div class="mt-3">
                        <a href="@Url.Action("Index","Account")">← Quay lại danh sách</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
